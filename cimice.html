<!DOCTYPE html>
<html lang="en"><head>
<script src="cimice_files/libs/quarto-html/tabby.min.js"></script>
<script src="cimice_files/libs/quarto-html/popper.min.js"></script>
<script src="cimice_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="cimice_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="cimice_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="cimice_files/libs/quarto-html/quarto-syntax-highlighting-549806ee2085284f45b00abea8c6df48.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.6.40">

  <meta name="author" content="Matteo Francia   DISI — University of Bologna   m.francia@unibo.it">
  <title>The Stinkbug dataset</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="cimice_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="cimice_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; font-weight: bold; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="cimice_files/libs/revealjs/dist/theme/quarto-6391498a111a1f00b0d941bda0c7e264.css">
  <link href="cimice_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="cimice_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="cimice_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="cimice_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">The <code>Stinkbug</code> dataset</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Matteo Francia <br> DISI — University of Bologna <br> m.francia@unibo.it 
</div>
</div>
</div>

</section>
<section id="the-stinkbug-dataset" class="title-slide slide level1 center">
<h1>The <code>Stinkbug</code> dataset</h1>

</section>

<section id="loading-the-data" class="title-slide slide level1 center">
<h1>Loading the data</h1>
<div id="cell-2" class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><span id="cb1-1"><a href=""></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href=""></a>df <span class="op">=</span> pd.read_csv(<span class="st">"./datasets/cimice/captures-raw.csv"</span>, sep<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb1-3"><a href=""></a>df</span></code></pre></div>
</details>
</div>
</section>

<section id="and-then" class="title-slide slide level1 center">
<h1>… and then?</h1>

</section>

<section id="how-many-of-you-apply-genai-e.g.-llms-such-as-chatgpt-to-data-science" class="title-slide slide level1 center">
<h1>How many of you apply <strong>GenAI</strong> (e.g., LLMs such as ChatGPT) to data science?</h1>

</section>

<section id="disagree-dblpjournalscacmwelsh23" class="title-slide slide level1 center">
<h1>(Dis)Agree? <span class="citation" data-cites="DBLP:journals/cacm/Welsh23">(<a href="#/references" role="doc-biblioref" onclick="">Welsh 2023</a>)</span></h1>
<p>“Programming will be obsolete. I believe the conventional idea of ‘writing a program’ is headed for extinction, and indeed, for all but very specialized applications, most software, as we know it, will be replaced by AI systems that are trained rather than programmed. In situations where one needs a ‘simple’ program (after all, not everything should require a model of hundreds of billions of parameters running on a cluster of GPUs), those programs will, themselves, be generated by an AI rather than coded by hand.”</p>
</section>

<section id="dblpjournalscacmwaldob25" class="title-slide slide level1 center">
<h1><span class="citation" data-cites="DBLP:journals/cacm/WaldoB25">(<a href="#/references" role="doc-biblioref" onclick="">Waldo and Boussard 2025</a>)</span></h1>
<p>Despite their powerful capabilities, however, generative pre-trained transformers (GPTs) have the tendency to “hallucinate” responses. A hallucination occurs when an LLM-based GPT generates a response that is seemingly realistic yet is nonfactual, nonsensical, or inconsistent with the given prompt.</p>
</section>

<section id="how-many-of-you-use-automl-for-training-machine-learning-pipelines" class="title-slide slide level1 center">
<h1>How many of you use <strong>AutoML</strong> for training Machine Learning pipelines?</h1>

</section>

<section id="dblpjournalscacmbierhhsw22" class="title-slide slide level1 center">
<h1><span class="citation" data-cites="DBLP:journals/cacm/BieRHHSW22">(<a href="#/references" role="doc-biblioref" onclick="">Bie et al. 2022</a>)</span></h1>
<p>“AutoML falls squarely into the first form of automation, mechanization […]. At the same time, it can be seen as yet another level of abstraction over a series of automation stages. First, there is the well-known use of <em>programming for automation</em>. Second, <em>machine learning automatically generates hypotheses and predictive models</em>, which typically take the form of algorithms (for example, in the case of a decision tree or a neural network); therefore, machine learning methods can be seen as <em>meta-algorithms that automate programming tasks</em>, and hence “automate automation.” And third, <em>automated machine learning makes use of algorithms that select and configure machine learning algorithms</em>—that is, of <em>meta-meta-algorithms that can be understood as automating the automation of automation</em>.”</p>
</section>

<section id="dblpjournalscacmbierhhsw22-1" class="title-slide slide level1 center">
<h1><span class="citation" data-cites="DBLP:journals/cacm/BieRHHSW22">(<a href="#/references" role="doc-biblioref" onclick="">Bie et al. 2022</a>)</span></h1>
<p>“The impressive performance levels reached by AutoML systems are evident in the results from recent competitions.17 Notably, Auto-sklearn significantly outperformed human experts in the human track of the 2015/2016 ChaLearn AutoML Challenge.”</p>
</section>

<section id="do-we-still-need-data-scientists" class="title-slide slide level1 center">
<h1>Do we still need data scientists?</h1>

</section>

<section id="genai-and-autml" class="title-slide slide level1 center">
<h1>GenAI and AutML</h1>
<p>This <strong>code was written by ChatGPT 4o</strong> and uses <strong>AutoML to train several models</strong> given a specific budget</p>
<div id="cell-12" class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><span id="cb2-1"><a href=""></a><span class="im">from</span> sklearn.metrics <span class="im">import</span> root_mean_squared_error</span>
<span id="cb2-2"><a href=""></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> train_test_split</span>
<span id="cb2-3"><a href=""></a><span class="im">from</span> flaml <span class="im">import</span> AutoML</span>
<span id="cb2-4"><a href=""></a></span>
<span id="cb2-5"><a href=""></a>X <span class="op">=</span> df.drop(columns<span class="op">=</span>[<span class="st">'ADULTS'</span>])</span>
<span id="cb2-6"><a href=""></a>y <span class="op">=</span> df[<span class="st">'ADULTS'</span>]</span>
<span id="cb2-7"><a href=""></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X, y, test_size<span class="op">=</span><span class="fl">0.2</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb2-8"><a href=""></a></span>
<span id="cb2-9"><a href=""></a>automl <span class="op">=</span> AutoML()</span>
<span id="cb2-10"><a href=""></a>automl_settings <span class="op">=</span> {</span>
<span id="cb2-11"><a href=""></a>    <span class="st">"time_budget"</span>: <span class="dv">30</span>,  <span class="co"># Time budget in seconds</span></span>
<span id="cb2-12"><a href=""></a>    <span class="st">"max_iter"</span>: <span class="dv">30</span>,  <span class="co"># Max number of iterations</span></span>
<span id="cb2-13"><a href=""></a>    <span class="st">"metric"</span>: <span class="st">'rmse'</span>,  <span class="co"># Evaluation metric</span></span>
<span id="cb2-14"><a href=""></a>    <span class="st">"task"</span>: <span class="st">'regression'</span>,  <span class="co"># Task type</span></span>
<span id="cb2-15"><a href=""></a>}</span>
<span id="cb2-16"><a href=""></a>automl.fit(X_train, y_train, <span class="op">**</span>automl_settings)</span>
<span id="cb2-17"><a href=""></a>y_pred <span class="op">=</span> automl.predict(X_test)</span>
<span id="cb2-18"><a href=""></a>rmse <span class="op">=</span> root_mean_squared_error(y_test, y_pred)</span>
<span id="cb2-19"><a href=""></a><span class="bu">print</span>(<span class="st">"RMSE using AutoML:"</span>, <span class="bu">round</span>(rmse, <span class="dv">2</span>))</span></code></pre></div>
</details>
</div>
</section>

<section id="lets-try-simpler-models" class="title-slide slide level1 center">
<h1>Let’s try simpler models</h1>
<div id="cell-14" class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><span id="cb3-1"><a href=""></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LinearRegression</span>
<span id="cb3-2"><a href=""></a></span>
<span id="cb3-3"><a href=""></a>X <span class="op">=</span> df.drop(columns<span class="op">=</span>[<span class="st">'ADULTS'</span>])</span>
<span id="cb3-4"><a href=""></a>X[<span class="st">'TIMESTAMP'</span>] <span class="op">=</span> pd.to_datetime(X[<span class="st">'TIMESTAMP'</span>]).astype(<span class="bu">int</span>) <span class="op">/</span> <span class="dv">10</span><span class="op">**</span><span class="dv">9</span></span>
<span id="cb3-5"><a href=""></a>X.fillna(X.mean(), inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb3-6"><a href=""></a>y <span class="op">=</span> df[<span class="st">'ADULTS'</span>]</span>
<span id="cb3-7"><a href=""></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X, y, test_size<span class="op">=</span><span class="fl">0.2</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb3-8"><a href=""></a>log_reg <span class="op">=</span> LinearRegression()</span>
<span id="cb3-9"><a href=""></a>log_reg.fit(X_train, y_train)</span>
<span id="cb3-10"><a href=""></a>y_pred_log_reg <span class="op">=</span> log_reg.predict(X_test)</span>
<span id="cb3-11"><a href=""></a>rmse_log_reg <span class="op">=</span> root_mean_squared_error(y_test, y_pred_log_reg)</span>
<span id="cb3-12"><a href=""></a><span class="bu">print</span>(<span class="st">"RMSE using Logistic Regression:"</span>, <span class="bu">round</span>(rmse_log_reg, <span class="dv">2</span>))</span></code></pre></div>
</details>
</div>
</section>

<section id="why" class="title-slide slide level1 center">
<h1>Why?</h1>

</section>

<section id="lets-take-a-look-at-the-features.-do-they-ring-a-bell" class="title-slide slide level1 center">
<h1>Let’s take a look at the features. Do they ring a bell?</h1>
<div id="cell-17" class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><span id="cb4-1"><a href=""></a>df.columns</span></code></pre></div>
</details>
</div>
</section>

<section id="section" class="title-slide slide level1 center">
<h1></h1>
<p><code>ADULTS</code> = - <code>SMALL_INSTARS</code> - <code>LARGE_INSTARS</code> + <code>TOTAL_CAPTURES</code></p>
<p>LinearRegression correctly captures this pattern, AutoML does not</p>
</section>

<section id="this-was-a-trick-usually-we-do-not-have-this-type-of-derived-features-in-the-dataset" class="title-slide slide level1 center">
<h1>This was a trick, usually we do not have this type of derived features in the dataset</h1>
<p>Let’s drop the <code>TOTAL_CAPTURE</code></p>
<div id="cell-20" class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><span id="cb5-1"><a href=""></a>X <span class="op">=</span> df.drop(columns<span class="op">=</span>[<span class="st">'ADULTS'</span>, <span class="st">'TOTAL_CAPTURES'</span>])</span>
<span id="cb5-2"><a href=""></a>y <span class="op">=</span> df[<span class="st">'ADULTS'</span>]</span>
<span id="cb5-3"><a href=""></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X, y, test_size<span class="op">=</span><span class="fl">0.2</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb5-4"><a href=""></a>automl <span class="op">=</span> AutoML()</span>
<span id="cb5-5"><a href=""></a>automl_settings <span class="op">=</span> {</span>
<span id="cb5-6"><a href=""></a>    <span class="st">"time_budget"</span>: <span class="dv">30</span>,  <span class="co"># Time budget in seconds</span></span>
<span id="cb5-7"><a href=""></a>    <span class="st">"max_iter"</span>: <span class="dv">30</span>,  <span class="co"># Max number of iterations</span></span>
<span id="cb5-8"><a href=""></a>    <span class="st">"metric"</span>: <span class="st">'rmse'</span>,  <span class="co"># Evaluation metric</span></span>
<span id="cb5-9"><a href=""></a>    <span class="st">"task"</span>: <span class="st">'regression'</span>,  <span class="co"># Task type</span></span>
<span id="cb5-10"><a href=""></a>}</span>
<span id="cb5-11"><a href=""></a>automl.fit(X_train, y_train, <span class="op">**</span>automl_settings)</span>
<span id="cb5-12"><a href=""></a>y_pred <span class="op">=</span> automl.predict(X_test)</span>
<span id="cb5-13"><a href=""></a>rmse <span class="op">=</span> root_mean_squared_error(y_test, y_pred)</span>
<span id="cb5-14"><a href=""></a><span class="bu">print</span>(<span class="st">"RMSE using AutoML:"</span>, <span class="bu">round</span>(rmse, <span class="dv">2</span>))</span></code></pre></div>
</details>
</div>
<div id="cell-21" class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><span id="cb6-1"><a href=""></a>automl.best_estimator</span></code></pre></div>
</details>
</div>
<div id="cell-22" class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><span id="cb7-1"><a href=""></a>automl.best_config</span></code></pre></div>
</details>
</div>
</section>

<section id="can-we-do-better" class="title-slide slide level1 center">
<h1>Can we do better?</h1>
<p>From the literature, we know that the spreading of bugs depends on:</p>
<ol type="1">
<li>Time. How?</li>
<li>Cumulative degree days: <span class="math inline">\(\sum_{d \in [May-Sep]} max(0, T^{avg}_d-12.2)\)</span></li>
</ol>
<div id="cell-25" class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><span id="cb8-1"><a href=""></a>df <span class="op">=</span> pd.read_csv(<span class="st">"./datasets/cimice/captures-raw.csv"</span>, sep<span class="op">=</span><span class="st">','</span>)</span>
<span id="cb8-2"><a href=""></a></span>
<span id="cb8-3"><a href=""></a>df[<span class="st">'TIMESTAMP'</span>] <span class="op">=</span> pd.to_datetime(df[<span class="st">'TIMESTAMP'</span>])</span>
<span id="cb8-4"><a href=""></a>df.sort_values(by<span class="op">=</span>[<span class="st">'GID'</span>, <span class="st">'TIMESTAMP'</span>], inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb8-5"><a href=""></a></span>
<span id="cb8-6"><a href=""></a>df[<span class="st">'WEEK'</span>] <span class="op">=</span> df[<span class="st">'TIMESTAMP'</span>].dt.isocalendar().week</span>
<span id="cb8-7"><a href=""></a>df[<span class="st">'DEGREE_DAYS'</span>] <span class="op">=</span> df[<span class="st">'TEMPERATURE_AVG'</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: <span class="bu">max</span>(<span class="dv">0</span>, x <span class="op">-</span> <span class="fl">12.2</span>))</span>
<span id="cb8-8"><a href=""></a></span>
<span id="cb8-9"><a href=""></a>df[<span class="st">'ADULTS-7'</span>] <span class="op">=</span> df.groupby(<span class="st">'GID'</span>)[<span class="st">'ADULTS'</span>].shift(<span class="dv">1</span>).fillna(<span class="dv">0</span>)</span>
<span id="cb8-10"><a href=""></a>df[<span class="st">'DAYS_DIFF'</span>] <span class="op">=</span> df.groupby(<span class="st">'GID'</span>)[<span class="st">'TIMESTAMP'</span>].diff().dt.days.fillna(<span class="dv">14</span>)</span>
<span id="cb8-11"><a href=""></a>df[<span class="st">'CUM_DEGREE_DAYS'</span>] <span class="op">=</span> df.groupby(<span class="st">'GID'</span>).<span class="bu">apply</span>(<span class="kw">lambda</span> group: (group[<span class="st">'DEGREE_DAYS'</span>] <span class="op">*</span> group[<span class="st">'DAYS_DIFF'</span>]).cumsum()).reset_index(level<span class="op">=</span><span class="dv">0</span>, drop<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb8-12"><a href=""></a></span>
<span id="cb8-13"><a href=""></a>df[<span class="st">'TIMESTAMP'</span>] <span class="op">=</span> df[<span class="st">'TIMESTAMP'</span>].astype(<span class="bu">int</span>) <span class="op">/</span> <span class="dv">10</span><span class="op">**</span><span class="dv">9</span></span>
<span id="cb8-14"><a href=""></a></span>
<span id="cb8-15"><a href=""></a>df.fillna(df.groupby(<span class="st">'WEEK'</span>).transform(<span class="st">'mean'</span>), inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb8-16"><a href=""></a></span>
<span id="cb8-17"><a href=""></a>X <span class="op">=</span> df.drop(columns<span class="op">=</span>[<span class="st">'ADULTS'</span>, <span class="st">'TOTAL_CAPTURES'</span>])</span>
<span id="cb8-18"><a href=""></a>y <span class="op">=</span> df[<span class="st">'ADULTS'</span>]</span>
<span id="cb8-19"><a href=""></a>X_train, X_test, y_train, y_test <span class="op">=</span> train_test_split(X, y, test_size<span class="op">=</span><span class="fl">0.2</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb8-20"><a href=""></a></span>
<span id="cb8-21"><a href=""></a>df</span></code></pre></div>
</details>
</div>
</section>

<section id="average-temperature-vs-cumulative-degree-days" class="title-slide slide level1 center">
<h1>Average temperature vs cumulative degree days</h1>
<div id="cell-27" class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><span id="cb9-1"><a href=""></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb9-2"><a href=""></a><span class="co"># Calculate weekly averages for temperature and cumulative degree days</span></span>
<span id="cb9-3"><a href=""></a>weekly_avg_temp <span class="op">=</span> df.groupby(<span class="st">'WEEK'</span>)[<span class="st">'TEMPERATURE_AVG'</span>].mean()</span>
<span id="cb9-4"><a href=""></a>weekly_avg_cum_degree_days <span class="op">=</span> df.groupby(<span class="st">'WEEK'</span>)[<span class="st">'CUM_DEGREE_DAYS'</span>].mean()</span>
<span id="cb9-5"><a href=""></a><span class="co"># Create subplots</span></span>
<span id="cb9-6"><a href=""></a>fig, axes <span class="op">=</span> plt.subplots(<span class="dv">1</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">4</span>))</span>
<span id="cb9-7"><a href=""></a><span class="co"># Plot average temperature by week</span></span>
<span id="cb9-8"><a href=""></a>axes[<span class="dv">0</span>].plot(weekly_avg_temp.index, weekly_avg_temp.values, marker<span class="op">=</span><span class="st">'o'</span>, color<span class="op">=</span><span class="st">'blue'</span>)</span>
<span id="cb9-9"><a href=""></a>axes[<span class="dv">0</span>].set_title(<span class="st">'Average Temperature by Week'</span>)</span>
<span id="cb9-10"><a href=""></a>axes[<span class="dv">0</span>].set_xlabel(<span class="st">'Week'</span>)</span>
<span id="cb9-11"><a href=""></a>axes[<span class="dv">0</span>].set_ylabel(<span class="st">'Temperature (°C)'</span>)</span>
<span id="cb9-12"><a href=""></a><span class="co"># Plot average cumulative degree days by week</span></span>
<span id="cb9-13"><a href=""></a>axes[<span class="dv">1</span>].plot(weekly_avg_cum_degree_days.index, weekly_avg_cum_degree_days.values, marker<span class="op">=</span><span class="st">'o'</span>, color<span class="op">=</span><span class="st">'green'</span>)</span>
<span id="cb9-14"><a href=""></a>axes[<span class="dv">1</span>].set_title(<span class="st">'Average Cumulative Degree Days by Week'</span>)</span>
<span id="cb9-15"><a href=""></a>axes[<span class="dv">1</span>].set_xlabel(<span class="st">'Week'</span>)</span>
<span id="cb9-16"><a href=""></a>axes[<span class="dv">1</span>].set_ylabel(<span class="st">'Cumulative Degree Days'</span>)</span>
<span id="cb9-17"><a href=""></a><span class="co"># Adjust layout and show the plot</span></span>
<span id="cb9-18"><a href=""></a>plt.tight_layout()</span></code></pre></div>
</details>
</div>
</section>

<section id="lets-apply-simple-models" class="title-slide slide level1 center">
<h1>Let’s apply simple models</h1>
<div id="cell-29" class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><span id="cb10-1"><a href=""></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LinearRegression</span>
<span id="cb10-2"><a href=""></a>log_reg <span class="op">=</span> LinearRegression()</span>
<span id="cb10-3"><a href=""></a>log_reg.fit(X_train, y_train)</span>
<span id="cb10-4"><a href=""></a>y_pred_log_reg <span class="op">=</span> log_reg.predict(X_test)</span>
<span id="cb10-5"><a href=""></a>rmse_log_reg <span class="op">=</span> root_mean_squared_error(y_test, y_pred_log_reg)</span>
<span id="cb10-6"><a href=""></a><span class="bu">print</span>(<span class="st">"RMSE using Logistic Regression:"</span>, <span class="bu">round</span>(rmse_log_reg, <span class="dv">2</span>))</span></code></pre></div>
</details>
</div>
<div id="cell-30" class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><span id="cb11-1"><a href=""></a><span class="im">from</span> sklearn.ensemble <span class="im">import</span> RandomForestRegressor</span>
<span id="cb11-2"><a href=""></a>rf_regressor <span class="op">=</span> RandomForestRegressor(random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb11-3"><a href=""></a>rf_regressor.fit(X_train, y_train)</span>
<span id="cb11-4"><a href=""></a>y_pred_rf <span class="op">=</span> rf_regressor.predict(X_test)</span>
<span id="cb11-5"><a href=""></a>rmse_rf <span class="op">=</span> root_mean_squared_error(y_test, y_pred_rf)</span>
<span id="cb11-6"><a href=""></a><span class="bu">print</span>(<span class="st">"RMSE using Random Forest Regressor:"</span>, <span class="bu">round</span>(rmse_rf, <span class="dv">2</span>))</span></code></pre></div>
</details>
</div>
</section>

<section id="lets-do-hyper-parameter-tuning-on-rf" class="title-slide slide level1 center">
<h1>Let’s do hyper-parameter tuning on RF</h1>
<div id="cell-32" class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><span id="cb12-1"><a href=""></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> RandomizedSearchCV</span>
<span id="cb12-2"><a href=""></a><span class="co"># Define the base model</span></span>
<span id="cb12-3"><a href=""></a>rf <span class="op">=</span> RandomForestRegressor(random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb12-4"><a href=""></a><span class="co"># Define the hyperparameter grid</span></span>
<span id="cb12-5"><a href=""></a>param_dist <span class="op">=</span> {</span>
<span id="cb12-6"><a href=""></a>    <span class="st">'n_estimators'</span>: [<span class="dv">50</span>, <span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">300</span>, <span class="dv">400</span>],</span>
<span id="cb12-7"><a href=""></a>    <span class="st">'max_depth'</span>: [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>],</span>
<span id="cb12-8"><a href=""></a>    <span class="st">'min_samples_split'</span>: [<span class="dv">2</span>, <span class="dv">5</span>, <span class="dv">10</span>],</span>
<span id="cb12-9"><a href=""></a>    <span class="st">'min_samples_leaf'</span>: [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>],</span>
<span id="cb12-10"><a href=""></a>    <span class="st">'max_features'</span>: [<span class="st">'sqrt'</span>, <span class="st">'log2'</span>]</span>
<span id="cb12-11"><a href=""></a>}</span>
<span id="cb12-12"><a href=""></a><span class="co"># Use RandomizedSearchCV for rough tuning</span></span>
<span id="cb12-13"><a href=""></a>random_search <span class="op">=</span> RandomizedSearchCV(estimator<span class="op">=</span>rf, param_distributions<span class="op">=</span>param_dist, n_iter<span class="op">=</span><span class="dv">20</span>, cv<span class="op">=</span><span class="dv">5</span>, scoring<span class="op">=</span><span class="st">'neg_root_mean_squared_error'</span>, verbose<span class="op">=</span><span class="dv">2</span>, n_jobs<span class="op">=-</span><span class="dv">1</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb12-14"><a href=""></a>random_search.fit(X_train, y_train)</span>
<span id="cb12-15"><a href=""></a><span class="co"># Best parameters from Randomized Search</span></span>
<span id="cb12-16"><a href=""></a>best_params <span class="op">=</span> random_search.best_params_</span>
<span id="cb12-17"><a href=""></a>best_model <span class="op">=</span> random_search.best_estimator_</span>
<span id="cb12-18"><a href=""></a><span class="bu">print</span>(<span class="st">"Best Parameters from Randomized Search:"</span>, best_params)</span>
<span id="cb12-19"><a href=""></a><span class="co"># Make predictions</span></span>
<span id="cb12-20"><a href=""></a>y_pred_rf <span class="op">=</span> best_model.predict(X_test)</span>
<span id="cb12-21"><a href=""></a><span class="co"># Compute RMSE</span></span>
<span id="cb12-22"><a href=""></a>rmse_rf <span class="op">=</span> root_mean_squared_error(y_test, y_pred_rf)</span></code></pre></div>
</details>
</div>
<div id="cell-33" class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><span id="cb13-1"><a href=""></a><span class="bu">print</span>(<span class="st">"Optimized RMSE using Random Forest Regressor:"</span>, <span class="bu">round</span>(rmse_rf, <span class="dv">2</span>))</span></code></pre></div>
</details>
</div>
</section>

<section id="lets-try-more-complex-models" class="title-slide slide level1 center">
<h1>Let’s try more complex models</h1>
<div id="cell-35" class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><span id="cb14-1"><a href=""></a><span class="im">import</span> xgboost <span class="im">as</span> xgb</span>
<span id="cb14-2"><a href=""></a><span class="im">from</span> sklearn.model_selection <span class="im">import</span> RandomizedSearchCV</span>
<span id="cb14-3"><a href=""></a><span class="co"># Define base XGBoost model</span></span>
<span id="cb14-4"><a href=""></a>xgb_regressor <span class="op">=</span> xgb.XGBRegressor(objective<span class="op">=</span><span class="st">'reg:squarederror'</span>, random_state<span class="op">=</span><span class="dv">42</span>)</span>
<span id="cb14-5"><a href=""></a><span class="co"># Define hyperparameter grid</span></span>
<span id="cb14-6"><a href=""></a>param_dist <span class="op">=</span> {</span>
<span id="cb14-7"><a href=""></a>    <span class="st">'n_estimators'</span>: [<span class="dv">100</span>, <span class="dv">200</span>, <span class="dv">300</span>, <span class="dv">500</span>],</span>
<span id="cb14-8"><a href=""></a>    <span class="st">'learning_rate'</span>: [<span class="fl">0.01</span>, <span class="fl">0.05</span>, <span class="fl">0.1</span>, <span class="fl">0.2</span>],</span>
<span id="cb14-9"><a href=""></a>    <span class="st">'max_depth'</span>: [<span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">10</span>],</span>
<span id="cb14-10"><a href=""></a>    <span class="st">'min_child_weight'</span>: [<span class="dv">1</span>, <span class="dv">3</span>, <span class="dv">5</span>, <span class="dv">7</span>],</span>
<span id="cb14-11"><a href=""></a>    <span class="st">'subsample'</span>: [<span class="fl">0.6</span>, <span class="fl">0.8</span>, <span class="fl">1.0</span>],</span>
<span id="cb14-12"><a href=""></a>    <span class="st">'colsample_bytree'</span>: [<span class="fl">0.6</span>, <span class="fl">0.8</span>, <span class="fl">1.0</span>],</span>
<span id="cb14-13"><a href=""></a>    <span class="st">'gamma'</span>: [<span class="dv">0</span>, <span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.5</span>]</span>
<span id="cb14-14"><a href=""></a>}</span>
<span id="cb14-15"><a href=""></a><span class="co"># Perform Randomized Search for broad tuning</span></span>
<span id="cb14-16"><a href=""></a>random_search <span class="op">=</span> RandomizedSearchCV(</span>
<span id="cb14-17"><a href=""></a>    estimator<span class="op">=</span>xgb_regressor, param_distributions<span class="op">=</span>param_dist,</span>
<span id="cb14-18"><a href=""></a>    n_iter<span class="op">=</span><span class="dv">30</span>, cv<span class="op">=</span><span class="dv">5</span>, scoring<span class="op">=</span><span class="st">'neg_root_mean_squared_error'</span>,</span>
<span id="cb14-19"><a href=""></a>    verbose<span class="op">=</span><span class="dv">2</span>, n_jobs<span class="op">=-</span><span class="dv">1</span>, random_state<span class="op">=</span><span class="dv">42</span></span>
<span id="cb14-20"><a href=""></a>)</span>
<span id="cb14-21"><a href=""></a>random_search.fit(X_train, y_train)</span>
<span id="cb14-22"><a href=""></a><span class="co"># Get best parameters from Randomized Search</span></span>
<span id="cb14-23"><a href=""></a>best_params <span class="op">=</span> random_search.best_params_</span>
<span id="cb14-24"><a href=""></a><span class="bu">print</span>(<span class="st">"Best Parameters from Randomized Search:"</span>, best_params)</span>
<span id="cb14-25"><a href=""></a>best_xgb <span class="op">=</span> random_search.best_estimator_</span>
<span id="cb14-26"><a href=""></a><span class="co"># Make predictions</span></span>
<span id="cb14-27"><a href=""></a>y_pred_xgb <span class="op">=</span> best_xgb.predict(X_test)</span>
<span id="cb14-28"><a href=""></a><span class="co"># Compute RMSE</span></span>
<span id="cb14-29"><a href=""></a>rmse_xgb <span class="op">=</span> root_mean_squared_error(y_test, y_pred_xgb)</span></code></pre></div>
</details>
</div>
<div id="cell-36" class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><span id="cb15-1"><a href=""></a><span class="bu">print</span>(<span class="st">"Optimized RMSE using XGBoost:"</span>, <span class="bu">round</span>(rmse_xgb, <span class="dv">2</span>))</span></code></pre></div>
</details>
</div>
</section>

<section id="plotting-feature-importance" class="title-slide slide level1 center">
<h1>Plotting feature importance</h1>
<div id="cell-38" class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><span id="cb16-1"><a href=""></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb16-2"><a href=""></a><span class="co"># Get feature importance</span></span>
<span id="cb16-3"><a href=""></a>feature_importance <span class="op">=</span> best_xgb.feature_importances_</span>
<span id="cb16-4"><a href=""></a><span class="co"># Create a DataFrame for better visualization</span></span>
<span id="cb16-5"><a href=""></a>feature_importance_df <span class="op">=</span> pd.DataFrame({</span>
<span id="cb16-6"><a href=""></a>    <span class="st">'Feature'</span>: X_train.columns,</span>
<span id="cb16-7"><a href=""></a>    <span class="st">'Importance'</span>: feature_importance</span>
<span id="cb16-8"><a href=""></a>}).sort_values(by<span class="op">=</span><span class="st">'Importance'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb16-9"><a href=""></a><span class="co"># Plot feature importance</span></span>
<span id="cb16-10"><a href=""></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">8</span>, <span class="dv">4</span>))</span>
<span id="cb16-11"><a href=""></a>plt.barh(feature_importance_df[<span class="st">'Feature'</span>], feature_importance_df[<span class="st">'Importance'</span>])</span>
<span id="cb16-12"><a href=""></a>plt.xlabel(<span class="st">'Importance'</span>)</span>
<span id="cb16-13"><a href=""></a>plt.ylabel(<span class="st">'Feature'</span>)</span>
<span id="cb16-14"><a href=""></a>plt.title(<span class="st">'Feature Importance from XGBoost'</span>)</span>
<span id="cb16-15"><a href=""></a>plt.gca().invert_yaxis()</span>
<span id="cb16-16"><a href=""></a>plt.tight_layout()</span></code></pre></div>
</details>
</div>
</section>

<section id="lets-retry-automl" class="title-slide slide level1 center">
<h1>Let’s retry AutoML</h1>
<div id="cell-40" class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><span id="cb17-1"><a href=""></a>automl <span class="op">=</span> AutoML()</span>
<span id="cb17-2"><a href=""></a>automl_settings <span class="op">=</span> {</span>
<span id="cb17-3"><a href=""></a>    <span class="st">"time_budget"</span>: <span class="dv">30</span>,  <span class="co"># Time budget in seconds</span></span>
<span id="cb17-4"><a href=""></a>    <span class="st">"max_iter"</span>: <span class="dv">30</span>,  <span class="co"># Max number of iterations</span></span>
<span id="cb17-5"><a href=""></a>    <span class="st">"metric"</span>: <span class="st">'rmse'</span>,  <span class="co"># Evaluation metric</span></span>
<span id="cb17-6"><a href=""></a>    <span class="co"># "estimator_list": ["xgboost"],</span></span>
<span id="cb17-7"><a href=""></a>    <span class="st">"task"</span>: <span class="st">'regression'</span>,  <span class="co"># Task type</span></span>
<span id="cb17-8"><a href=""></a>}</span>
<span id="cb17-9"><a href=""></a>automl.fit(X_train, y_train, <span class="op">**</span>automl_settings)</span>
<span id="cb17-10"><a href=""></a>y_pred <span class="op">=</span> automl.predict(X_test)</span>
<span id="cb17-11"><a href=""></a>rmse <span class="op">=</span> root_mean_squared_error(y_test, y_pred)</span></code></pre></div>
</details>
</div>
<div id="cell-41" class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><span id="cb18-1"><a href=""></a><span class="bu">print</span>(<span class="st">"RMSE using AutoML:"</span>, <span class="bu">round</span>(rmse, <span class="dv">2</span>))</span></code></pre></div>
</details>
</div>
</section>

<section id="summary-information" class="title-slide slide level1 center">
<h1>Summary information</h1>
<div id="cell-43" class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><span id="cb19-1"><a href=""></a>automl.best_estimator</span></code></pre></div>
</details>
</div>
<div id="cell-44" class="cell">
<details open="" class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource python number-lines"><code class="sourceCode python"><span id="cb20-1"><a href=""></a>automl.best_config</span></code></pre></div>
</details>
</div>
</section>

<section id="references" class="title-slide slide level1 smaller scrollable">
<h1>References</h1>

<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-DBLP:journals/cacm/BieRHHSW22" class="csl-entry" role="listitem">
Bie, Tijl De, Luc De Raedt, José Hernández-Orallo, Holger H. Hoos, Padhraic Smyth, and Christopher K. I. Williams. 2022. <span>“Automating Data Science.”</span> <em>Commun. <span>ACM</span></em> 65 (3): 76–87.
</div>
<div id="ref-DBLP:journals/cacm/WaldoB25" class="csl-entry" role="listitem">
Waldo, Jim, and Soline Boussard. 2025. <span>“GPTs and Hallucination.”</span> <em>Commun. <span>ACM</span></em> 68 (1): 40–45.
</div>
<div id="ref-DBLP:journals/cacm/Welsh23" class="csl-entry" role="listitem">
Welsh, Matt. 2023. <span>“The End of Programming.”</span> <em>Commun. <span>ACM</span></em> 66 (1): 34–35.
</div>
</div>
</section>
    </div>
  <div class="quarto-auto-generated-content" style="display: none;">
<div class="footer footer-default">
<p>Matteo Francia - Machine Learning and Data Mining (Module 2) - A.Y. 2024/25</p>
</div>
</div></div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="cimice_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="cimice_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="cimice_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="cimice_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="cimice_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="cimice_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="cimice_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="cimice_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="cimice_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="cimice_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'jumpToSlide': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleScrollView(event)\"><kbd>r</kbd> Scroll View Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: true,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'bottom-right',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1100,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>